<html lang="zh-cn"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>[转]目前互联网上公布出来的正文提取算法 - 孤独剑客zzy - 博客园</title>
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=m_FXmwz3wxZoecUwNEK23PAzc-j9vbX_C6MblJ5ouMc1">
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/LessIsMoreRight/bundle-LessIsMoreRight.css?v=XnHJrmT6UJMtyGfeJjiTUm7BxKWcwdJrxKsGy7z3YZ81">
<link id="mobile-style" media="only screen and (max-width: 768px)" type="text/css" rel="stylesheet" href="/skins/LessIsMoreRight/bundle-LessIsMoreRight-mobile.css?v=qHJjANaihl7o1IFNmGDYMM2LY262zpYzn5es47eo-b81">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/jackyzzy/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/jackyzzy/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/jackyzzy/wlwmanifest.xml">
<script src="//common.cnblogs.com/script/jquery.js" type="text/javascript"></script>
<script type="text/javascript">var currentBlogApp = 'jackyzzy', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="/bundles/blog-common.js?v=CPv0EEqm9L2aCgolHxaZfVYM6J-Sn5az_FJXbjzgr-o1" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<div id="home">
<div id="header">
	<div id="blogTitle">

<!--done-->
<div class="title"><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/jackyzzy/">孤独剑客zzy</a></div>
<div class="subtitle"></div>




	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">

<ul id="navList">
<li id="nav_sitehome"><a id="blog_nav_sitehome" class="menu" href="http://www.cnblogs.com/">博客园</a></li>
<li id="nav_myhome"><a id="blog_nav_myhome" class="menu" href="http://www.cnblogs.com/jackyzzy/">首页</a></li>
<li id="nav_newpost"><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li id="nav_contact"><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E5%AD%A4%E7%8B%AC%E5%89%91%E5%AE%A2zzy">联系</a></li>
<li id="nav_rss"><a id="blog_nav_rss" class="menu" href="http://www.cnblogs.com/jackyzzy/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="http://www.cnblogs.com/jackyzzy/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li id="nav_admin"><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>

		<div class="blogStats">

			<div id="blog_stats">
<!--done-->
随笔-130&nbsp;
文章-0&nbsp;
评论-11&nbsp;
</div>

		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">

<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/jackyzzy/archive/2012/06/26/2564277.html">[转]目前互联网上公布出来的正文提取算法</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body"><div class="mod-page-main wordwrap clearfix">
<div class="x-page-container">
<div class="mod-blogpage-wraper">
<div class="grid-80 mod-blogpage">
<div class="mod-text-content mod-post-content">
<div class="content-head clearfix">
<div class="mod-page-main wordwrap clearfix" style="display: inline !important;">
<div class="x-page-container" style="display: inline !important;">
<div class="mod-blogpage-wraper" style="display: inline !important;">
<div class="grid-80 mod-blogpage" style="display: inline !important;">
<div class="mod-text-content mod-post-content" style="display: inline !important;">
<div id="content" class="content text-content clearfix" style="display: inline !important;">
<p style="display: inline !important;">目前互联网上公布出来的正文提取算法，大家可以综合比较下，一起来测试下哪个更好用。 词网--北京词网科技有限公司&nbsp;<a href="http://demo.cikuu.com/cgi-bin/cgi-contex" target="_blank">http://demo.cikuu.com/cgi-bin/cgi-contex</a>&nbsp;猎兔网页正文提取<a href="http://www.lietu.com/extract/" target="_blank">http://www.lietu.com/extract/</a>&nbsp;PHP版网页正文提取<a href="http://www.woniu.us/get_content_demo/" target="_blank">http://www.woniu.us/get_content_demo/</a>&nbsp;网页正文提取分析(DEMO)<a href="http://61.128.196.27/txt" target="_blank">http://61.128.196.27/txt</a>&nbsp;个人认为<a href="http://61.128.196.27/txt" target="_blank">http://61.128.196.27/txt</a>&nbsp;这个提取最牛，基本上无论什么页面都能提取出来，而且能有效的保持原文风格、图片、链接。</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="content" class="content text-content clearfix">
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<a href="http://code.google.com/p/joyhtml/" target="_blank">http://code.google.com/p/joyhtml/</a><br>看看这个效果不错<br><a href="http://www.likeshow.net/article.asp?id=92" target="_blank">http://www.likeshow.net/article.asp?id=92</a>&nbsp;&nbsp;<br>我一年前写的玩意 虽然不完善 但尚可用之在新闻和BLOG 论坛提取上 提取的正文对于BLOG和BBS包含评论及回复 具体原理也写很清楚了<br>如题，想从html源码中提取正文内容，&lt;P&gt;&lt;/P&gt;之间的内容，但是&lt;P&gt;的写法不规则。除了正则表达式的方法，还有其它的提取方法吗？谢谢！<br>最新下载<br>在线演示和最新下载：<br><a href="http://www.shoula.net/ParseContent" target="_blank">http://www.shoula.net/ParseContent</a>&nbsp;<br><br><a href="http://www.pudn.com/downloads152/sourcecode/internet/search_engine/detail668443.html" target="_blank">http://www.pudn.com/downloads152/sourcecode/internet/search_engine/detail668443.html</a><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;Google Code开源网页正文提取cx-extractor2010-05-19 12:31基于行块分布函数的通用网页正文抽取：线性时间、不建DOM树、与HTML标签无关<br>简述：<br>对于Web信息检索来说，网页正文抽取是后续处理的关键。虽然使用正则表达式可以准确的抽取某一固定格式的页面，但面对形形色色的HTML，使用规则处理难免捉襟见肘。能不能高效、准确的将一个页面的正文抽取出来，并做到在大规模网页范围内通用，这是一个直接关系上层应用的难题。<br>作者提出了《基于行块分布函数的通用网页正文抽取算法》，首次将网页正文抽取问题转化为求页面的行块分布函数，这种方法不用建立Dom树，不被病态HTML所累（事实上与HTML标签完全无关）。通过在线性时间内建立的行块分布函数图，直接准确定位网页正文。同时采用了统计与规则相结合的方法来处理通用性问题。作者相信简单的事情总应该用最简单的办法来解决这一亘古不变的道理。整个算法实现不足百行代码。但量不在多，在法。<br>项目网址：<a href="http://code.google.com/p/cx-extractor/" target="_blank">http://code.google.com/p/cx-extractor/</a><br>算法描述：基于行块分布函数的网页正文抽取算法.pdf<br>欢迎大家提出意见~&nbsp;<br>&nbsp;<br><br><a href="http://www.ngiv.cn/post/204.html" target="_blank">http://www.ngiv.cn/post/204.html</a><br>VIPS算法对搜索引擎的意义<br><a href="http://blog.csdn.net/tingya/archive/2006/02/18/601954.aspx" target="_blank">http://blog.csdn.net/tingya/archive/2006/02/18/601954.aspx</a><br>&nbsp;<br>基于视觉的Web页面分页算法VIPS的实现源代码下载<br><a href="http://blog.csdn.net/tingya/archive/2006/04/28/694651.aspx" target="_blank">http://blog.csdn.net/tingya/archive/2006/04/28/694651.aspx</a><br>作者信息：飞跃,javascript教程-技术之家博客的博主&nbsp;<br><br><a href="http://www.madcn.net/?p=791" target="_blank">http://www.madcn.net/?p=791</a><br><br>我这里有个开源的项目，还不错，你上googlecode搜索joyhtml。<br><a href="http://gfnpad.blogspot.com/2009/11/blog-post.html" target="_blank">http://gfnpad.blogspot.com/2009/11/blog-post.html</a><br>下面几个是一些开源的程序：<br>1.一个python的基于文本密度的程序：<br><a href="http://ai-depot.com/articles/the-easy-way-to-extract-useful-text-from-arbitrary-html/" target="_blank">http://ai-depot.com/articles/the-easy-way-to-extract-useful-text-from-arbitrary-html/</a><br>ps：里面有bug，要稍加改动。 另外，对于没有对html注释部分进行处理<br>2.Java 开源项目： Gate<br><a href="http://gate.ac.uk/" target="_blank">http://gate.ac.uk/</a>&nbsp;<br><br>其实可以利用Dhmtl对象进行编程分析，已获得所要的数据文件，详细请看我的程序<br><a href="http://www.vbgood.com/thread-94788-1-1.html" target="_blank">http://www.vbgood.com/thread-94788-1-1.html</a><br><a href="http://download.csdn.net/source/568439" target="_blank">http://download.csdn.net/source/568439</a><br>&nbsp;<br>一．标题块<br>l 分块节点：td，div，h，span<br>l 一般位于Head/Title的位置<br>l 当前单元含有&lt;h1&gt;-&lt;h3&gt;，&lt;b&gt;，&lt;i&gt;，&lt;strong&gt;等标签<br>l 样式，一般class包含title，head等字符<br>l 文字长度，一般大于3个字符，小于35个字符<br>&nbsp;<br>二．发表时间块<br>l 分块节点：td，div， span<br>l 文字长度，一般小于50个字符<br>l 包含日期格式（2010-08-09）的字符串<br>l 包含以下关键字：来源，发表<br>&nbsp;<br>三．主题块<br>l 分块节点：td，div<br>l HTML网页中有一些特殊标签，通常只出现在网页主题块中，如&lt;P&gt;&lt;BR&gt;等。因此，主题块中往往包含着特殊标签。<br>l 主题块内容含有较多的句子，因此具有较多逗号、句号等标点符号（&gt;5）。<br>l 若从信息量角度考虑，主题块一般是含有较多文字信息。<br>l 主题块的 标签密度=1000*标签数/文字数 应在小于一个范围。<br>l 主题块的 文本密度=len(文本)/len(HTML代码) 较大<br>l 不应该包含 “上一篇”，“下一篇”<br>l 包含以下字符串的内容块，判定为包含版权信息，需减权：“ICP备04000001号”，“版权所有”，“Copyright”<br>l 主题块序号在标题块之下<br>l 主题块序号在发表时间块之下<br>l 主题块序号在相关链接块之上<br>&nbsp;<br>四．相关链接块<br>l 分块节点：td，div<br>l 文字应为“相关链接”、“相关新闻”、“相关报道”等敏感词，且连接比例很高。<br>l 链接数小于20<br>&nbsp;<br>实现：<br>根据以上信息块特征，采用特征提权算法，C#（3.5）编程实现，命名为QD正文提取组件。经测试，对Html格式规范的以文字为主的内容页，正确提取率在85%以上，各大门户的新闻页面在95%以上。 例子下载(需要安装Microsoft .NET Framework 3.5)<br>&nbsp;<br>注：QD正文提取组件 不开源，需要源码的朋友可选择付费获取。<br>&nbsp;<br>这时挑选出的正文一般也就是到位了，但是问题是很可能在头尾残留了一些块广告。我认为这些块广告与正文中广告有很大的不同。这些广告的马脚就是其父节点，它们的父节点要么也包含了正文所在区域，也就是和正文平级，要么本身就是正文所在区域的一个子节点，很难是正文节点本身的。那么对疑似正文节点进行一次扫描，剔除那些父节点文字内容过大（包含了广告以及正文，即和正文平级）的块，也剔除那些父节点文字内容过小的块。<br>经过这样的处理，得到的内容基本上就是我们需要的正文了。下面就是要提取标题。<br>在代表整个网页的document中扫描一次，寻找那些有font字体的，strong的，h1的，title的节点，提取他们的信息。然后将得到的文字内容分词，查验分出来的词有多少是被正文包含的，包含最多的一半就是标题。但是这里要注意，有时候找到的节点本身是正文节点的子节点，那么无论怎么分，分出来都是完全包含的，所以要剔除那些本身是正文一部分的疑似标题。这样做对大部分网页也是有效了，但是对仅有的标题就在正文节点里的那些页面，目前为止我还没有特别好的想法。<br>这些日子也研究了一些别人的论文，有很多思想都非常好，也有很多人想到用马尔科夫，人工神经来训练。也许以后我会考虑用用看吧。现在这样也还可以，呵呵。&nbsp;<br>?<br>这个算法我也写了一下，不过是用C++写的。<br>我不太懂楼上讨论的分页是什么意思，我通过分析dom树然后用文中提到的规则进行dom结点处理以及后续的处理。<br>我主要是想把网页中的内容按网页框架分开，把正文部分合在一起，然后用贝叶斯决策计算正文特征支持率<br>提取网页内容。<br>现在VIPS基本写完。<br>但是却也发现了些问题，<br>比如说有些结点的坐标提取出来会有提取不出分隔条，这是因为有少数坐标有些重叠。这里涉及到一个坐标的确定问题。<br>然后是结点分割规则问题，现在的页面是大部分是通过DIV来组织页面。而VIPS似乎更合适TABLE组织的页面，我试过用TABLE组织的页面，分得相当不错。<br>另外，TINYA上面的翻译似乎改了些规则，还有部分翻译不是很准确。比如虚拟文本的定义部分与原文有些出入，不知道TINYA有没有注意到。<br>最后，很感谢TINYA 对这个算法的介绍。<br>另外，有对这个算法感兴趣的朋友希望能大家一起讨论下</div>

</div>

</div>

</div>

</div>

</div></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2012-06-26 19:13</span> <a href="http://www.cnblogs.com/jackyzzy/">孤独剑客zzy</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=2564277" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(2564277);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=109347,cb_entryId=2564277,cb_blogApp=currentBlogApp,cb_blogUserGuid='3720efb1-6658-e111-aa3f-842b2b196315',cb_entryCreatedDate='2012/6/26 19:13:00';loadViewCount(cb_entryId);</script>

</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"></div>
<div id="opt_under_post"></div>
<div id="cnblogs_c1" class="c_ad_block"></div>
<div id="under_post_news"></div>
<div id="cnblogs_c2" class="c_ad_block"></div>
<div id="under_post_kb"></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
</script>
</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">

<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>

			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>

		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">

<!--done-->
Copyright ©2017 孤独剑客zzy
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


</body></html>